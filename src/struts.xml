<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
    "http://struts.apache.org/dtds/struts-2.0.dtd">

<struts>

    <constant name="struts.enable.DynamicMethodInvocation" value="false" />
    <constant name="struts.devMode" value="true" />
    <constant name="struts.ognl.allowStaticMethodAccess" value="true"></constant>
    <constant name="struts.ui.theme" value="simple" />
    
	<package name="admin" namespace="/admin" extends="struts-default">
        <action name="login" class="cn.edu.dlut.chuangxin.action.AdminAction" method="login">
            <result name="login">/login.jsp</result>
            <result name="main">/main.jsp</result>
        </action>
        <action name="logout" class="cn.edu.dlut.chuangxin.action.AdminAction" method="logout">
            <result name="login" type="redirectAction">
            	<param name="namespace">/</param>
				<param name="actionName">login</param>
			</result>
        </action>
    	<action name="admin" class="cn.edu.dlut.chuangxin.action.AdminAction" method="admin">
            <result name="main">/main.jsp</result>
            <result name="login" type="redirectAction">
				<param name="namespace">/</param>
				<param name="actionName">login</param>
			</result>
        </action>
    </package>
    
   	<package name="admin_json" namespace="/admin_json" extends="json-default">    
        <action name="checkAdminPasswordAction" class="cn.edu.dlut.chuangxin.action.AdminAction" method="checkPassword">
    		<result type="json"><param name="root">resultMsg</param></result>
    	</action>
    </package>
    
    <package name="user" namespace="/user" extends="struts-default">  
        <action name="user_*" class="cn.edu.dlut.chuangxin.action.UserAction" method="{1}">
            <result name="students_info">/students_info.jsp</result>
            <result name="students_update">/students_update.jsp</result>
            <result name="students_register">/students_register.jsp</result>
            <result name="register_success">/register_success.jsp</result>
        </action>      
    </package>
    <package name="user_json" namespace="/user_json" extends="json-default">
    	<action name="user_json_*" class="cn.edu.dlut.chuangxin.action.UserInfoAction" method="{1}">
    		<result type="json"><param name="root">resultMsg</param></result>
    	</action>
    	<action name="getMajorsInfoAction" class="cn.edu.dlut.chuangxin.action.MajorAction">
    		<result type="json"><param name="root">resultMsg</param></result>
    	</action>
    	<action name="getGradesInfoAction" class="cn.edu.dlut.chuangxin.action.GradeAction">
    		<result type="json"><param name="root">resultMsg</param></result>
    	</action>
  	</package>

	<package name="sensor" namespace="/sensor" extends="struts-default">
        <action name="temperatureInfo" class="cn.edu.dlut.chuangxin.action.TemperatureAction" method="temperatureInfo">
            <result name="temperature_info">/temperature_info.jsp</result>
        </action>      
        <action name="humidityInfo" class="cn.edu.dlut.chuangxin.action.HumidityAction" method="humidityInfo">
            <result name="temperature_info">/temperature_info.jsp</result>
        </action>    
    </package>
    <package name="sensor_json" namespace="/sensor_json" extends="json-default">
        <action name="getTemperatureInfoAction" class="cn.edu.dlut.chuangxin.action.TemperatureAction" method="getTemperatureInfoAction">
    		<!-- 将返回类型设置为json -->
    		<result type="json"><param name="root">resultMsg</param></result>
    	</action>     
    	<action name="getHumidityInfoAction" class="cn.edu.dlut.chuangxin.action.HumidityAction" method="getHumidityInfoAction">
    		<!-- 将返回类型设置为json -->
    		<result type="json"><param name="root">resultMsg</param></result>
    	</action> 
    </package>
</struts>
